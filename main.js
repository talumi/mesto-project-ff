(()=>{"use strict";var e=[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],t=document.querySelector("#card-template").content;function n(e,n,r,o){var c=t.querySelector(".card").cloneNode(!0),a=c.querySelector(".card__title"),s=c.querySelector(".card__image"),d=c.querySelector(".card__delete-button"),i=c.querySelector(".card__like-button");return a.textContent=e.name,s.src=e.link,s.alt=e.name,d.addEventListener("click",n),i.addEventListener("click",r),s.addEventListener("click",o),c}function r(e){e.target.closest(".card").remove()}function o(e){e.target.classList.toggle("card__like-button_is-active")}function c(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",s),setTimeout((function(){document.addEventListener("click",d)}),1)}function a(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",s),document.removeEventListener("click",d)}function s(e){"Escape"===e.key&&a(document.querySelector(".popup_is-opened"))}function d(e){var t=e.target.classList;t.contains("popup")&&a(e.target),t.contains("popup__close")&&a(e.target.closest(".popup"))}var i=document.querySelector(".places__list"),p=document.querySelector(".profile__title"),u=document.querySelector(".profile__description"),l=document.querySelector(".profile__edit-button"),m=document.querySelector(".popup_type_edit"),v=document.forms["edit-profile"],_=v.elements.name,y=v.elements.description,f=document.forms["new-place"],k=f.elements["place-name"],g=f.elements.link,q=document.querySelector(".profile__add-button"),S=document.querySelector(".popup_type_new-card"),L=document.querySelector(".popup_type_image"),E=L.querySelector(".popup__image"),x=L.querySelector(".popup__caption");function b(e){e.preventDefault(),p.textContent=_.value,u.textContent=y.value,v.removeEventListener("submit",b),a(m)}function h(t){var c={name:k.value,link:g.value};t.preventDefault(),e.unshift(c),i.prepend(n(c,r,o,C)),a(S),S.removeEventListener("submit",h)}function C(e){var t=e.target.src,n=e.target.parentElement.querySelector(".card__description").textContent;E.src=t,E.alt=n,x.textContent=n,c(L)}l.addEventListener("click",(function(){_.value=p.textContent,y.value=u.textContent,v.addEventListener("submit",b),c(m)})),q.addEventListener("click",(function(){f.addEventListener("submit",h),k.value="",g.value="",c(S)})),e.forEach((function(e){i.append(n(e,r,o,C))}))})();